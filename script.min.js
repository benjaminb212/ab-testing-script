console.log("AB testing active");let storageWithExpiry={setItem:function(e,t,r){t={value:t,expiry:(new Date).getTime()+r};sessionStorage.setItem(e,JSON.stringify(t))},getItem:function(e){var t=sessionStorage.getItem(e);return t?(t=JSON.parse(t),(new Date).getTime()>t.expiry?(sessionStorage.removeItem(e),null):t.value):null},removeItem:function(e){sessionStorage.removeItem(e)}},storageKey="ab_testing_persistent";function assignVariant(r,s,n,o,i,a){if(window.location.href===r){if(o+i+a!==100)return console.error("Percentages must sum to 100%."),null;a=Math.floor(100*Math.random())+1;let e,t=(console.log(a),!1);a<=o?(e=r,t=!0):e=a<=o+i?s:n,console.log(e);r=getPersistantUrl();if(!r)return console.log("couldnt find url from storage"),setPersistantUrl(e),t?void 0:void redirectToVariantUrl(e);console.log("here"),window.location.href===r||(console.log("here1"),t)||(console.log("here2"),redirectToVariantUrl(r))}}function setPersistantUrl(e){console.log("setPresistant"),storageWithExpiry.setItem(storageKey,e,864e5)}function getPersistantUrl(){return console.log("getPresistant"),storageWithExpiry.getItem(storageKey)}function redirectToVariantUrl(e){console.log("redirecting to: "+e),window.location.assign(e)}console.log(user_settings),assignVariant(user_settings.variantAUrl,user_settings.variantBUrl,user_settings.variantCUrl,user_settings.variantAPercentage,user_settings.variantBPercentage,user_settings.variantCPercentage);

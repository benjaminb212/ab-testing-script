console.log("starting ab testing");let storageWithExpiry={setItem:function(e,t,r){t={value:t,expiry:(new Date).getTime()+r};localStorage.setItem(e,JSON.stringify(t))},getItem:function(e){var t=localStorage.getItem(e);return t?(t=JSON.parse(t),(new Date).getTime()>t.expiry?(localStorage.removeItem(e),null):t.value):null},removeItem:function(e){localStorage.removeItem(e)}},storageKey="ab_testing_persistent";function assignVariant(t,r,n,i,s,o,a){if(console.log("starting logic"),window.location.href===t){if(i+s+o!==100)return console.error("Percentages must sum to 100%."),null;o=Math.floor(100*Math.random())+1;let e;e=o<=i?t:o<=i+s?r:n,console.log("hi"),!1===a?redirectToVariantUrl(e):(console.log("hi2"),(t=getPersistantUrl())?(console.log("h3"),window.location.href!==t&&(console.log("hi4"),redirectToVariantUrl(t))):(setPersistantUrl(e),redirectToVariantUrl(e)))}}function setPersistantUrl(e){storageWithExpiry.setItem(storageKey,e,864e5)}function getPersistantUrl(){return storageWithExpiry.getItem(storageKey)}function redirectToVariantUrl(e){console.log("redirecting to url"),window.location.assign(e)}assignVariant(user_settings.variantAUrl,user_settings.variantBUrl,user_settings.variantCUrl,user_settings.variantAPercentage,user_settings.variantBPercentage,user_settings.variantCPercentage,user_settings.sessionPersistence);
